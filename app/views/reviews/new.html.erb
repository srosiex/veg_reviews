<%= render partial: 'layouts/errors', locals:{object: @review}%>

<% if @meal %>
<h1>Add a review for <%= @meal.restaurant.name %> <%= @meal.name %>!</h1>
<% else %>
    <h1>Add a review!</h1>
    <% end %>

<%= form_for(@review) do |f| %>
    <% if params[:meal_id] %>
    <%= f.hidden_field :meal_id %>
    <% else %>
    <div>
        <%= f.label :meal_id, "Select a meal" %><br>
        <%= f.collection_select :meal_id, Meal.all.alphabetical_order, :id, :name_and_restaurant, include_blank: true %>
    </div>
    <% end %>
    <div>
        <%= f.label :stars %><br>
        <%= f.number_field :stars, min:1, max:5 %>
    </div>
    <br>
    <div>
        <%= f.label :title %><br><br>
        <%= f.text_field :title %>
    </div>
    <br>
    <div>
        <%= f.label :content %><br>
        <%= f.text_area :content %>
    </div>

    <%= f.submit  %>
    <% end %>